{"version":3,"sources":["mvc/ui/ui-options.js"],"names":["Backbone","_","Base","View","extend","initialize","options","self","model","Model","visible","data","id","uid","error_text","wait_text","multiple","optional","onchange","set","listenTo","_changeValue","_changeWait","_changeData","_changeVisible","on","get","value","render","$el","empty","removeClass","addClass","append","$message","$","$menu","$options","_template","all_button","ButtonCheck","onclick","prop","_getValue","trigger","update","_templateOptions","each","_templateOption","option","tooltip","title","placement","length","_messageShow","hide","css","show","_setValue","first","isArray","new_value","undefined","val","wait","unwait","values","v","selected","push","isEmpty","text","status","html","BaseIcons","pair","attr","type","name","label","Radio","prototype","call","Checkbox","RadioButton","closest","icon"],"mappings":"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","file":"../../../scripts/mvc/ui/ui-options.js","sourcesContent":["/** Base class for options based ui elements **/\nimport * as Backbone from \"backbone\";\nimport * as _ from \"underscore\";\nimport Utils from \"utils/utils\";\nimport Buttons from \"mvc/ui/ui-buttons\";\n\n/* global $ */\n\nvar Base = Backbone.View.extend({\n    initialize: function(options) {\n        var self = this;\n        this.model =\n            (options && options.model) ||\n            new Backbone.Model({\n                visible: true,\n                data: [],\n                id: Utils.uid(),\n                error_text: \"No options available.\",\n                wait_text: \"Please wait...\",\n                multiple: false,\n                optional: false,\n                onchange: function() {}\n            }).set(options);\n        this.listenTo(this.model, \"change:value\", this._changeValue, this);\n        this.listenTo(this.model, \"change:wait\", this._changeWait, this);\n        this.listenTo(this.model, \"change:data\", this._changeData, this);\n        this.listenTo(this.model, \"change:visible\", this._changeVisible, this);\n        this.on(\"change\", () => {\n            self.model.get(\"onchange\")(self.value());\n        });\n        this.render();\n    },\n\n    render: function() {\n        var self = this;\n        this.$el\n            .empty()\n            .removeClass()\n            .addClass(\"ui-options\")\n            .append((this.$message = $(\"<div/>\")))\n            .append((this.$menu = $(\"<div/>\").addClass(\"ui-options-menu\")))\n            .append((this.$options = $(this._template())));\n\n        // add select/unselect all button\n        this.all_button = null;\n        if (this.model.get(\"multiple\")) {\n            this.all_button = new Buttons.ButtonCheck({\n                onclick: function() {\n                    self.$(\"input\").prop(\"checked\", self.all_button.value() !== 0);\n                    self.value(self._getValue());\n                    self.trigger(\"change\");\n                }\n            });\n            this.$menu.append(this.all_button.$el);\n        }\n\n        // finalize dom\n        this._changeData();\n        this._changeWait();\n        this._changeVisible();\n    },\n\n    /** Update available options */\n    update: function(options) {\n        this.model.set(\"data\", options);\n    },\n\n    _changeData: function() {\n        var self = this;\n        this.$options.empty();\n        if (this._templateOptions) {\n            this.$options.append(this._templateOptions(this.model.get(\"data\")));\n        } else {\n            _.each(this.model.get(\"data\"), option => {\n                self.$options.append(\n                    $(self._templateOption(option))\n                        .addClass(\"ui-option\")\n                        .tooltip({\n                            title: option.tooltip || \"\",\n                            placement: \"bottom\"\n                        })\n                );\n            });\n        }\n        this.$(\"input\").on(\"change\", () => {\n            self.value(self._getValue());\n            self.trigger(\"change\");\n        });\n        this._changeValue();\n        this._changeWait();\n    },\n\n    _changeVisible: function() {\n        this.$el[this.model.get(\"visible\") ? \"show\" : \"hide\"]();\n    },\n\n    _changeWait: function() {\n        if (this.model.get(\"wait\")) {\n            if (this.length() === 0) {\n                this._messageShow(this.model.get(\"wait_text\"), \"info\");\n                this.$options.hide();\n                this.$menu.hide();\n            }\n        } else {\n            if (this.length() === 0) {\n                this._messageShow(this.model.get(\"error_text\"), \"danger\");\n                this.$options.hide();\n                this.$menu.hide();\n            } else {\n                this.$message.hide();\n                this.$options.css(\"display\", \"inline-block\");\n                this.$menu.show();\n            }\n        }\n    },\n\n    _changeValue: function() {\n        this._setValue(this.model.get(\"value\"));\n        if (this._getValue() === null && !this.model.get(\"multiple\") && !this.model.get(\"optional\")) {\n            this._setValue(this.first());\n        }\n        if (this.all_button) {\n            this.all_button.value($.isArray(this._getValue()) ? this._getValue().length : 0, this.length());\n        }\n    },\n\n    /** Return/Set current selection */\n    value: function(new_value) {\n        if (new_value !== undefined) {\n            this.model.set(\"value\", new_value);\n        }\n        return this._getValue();\n    },\n\n    /** Return first available option */\n    first: function() {\n        var options = this.$(\"input\").first();\n        return options.length > 0 ? options.val() : null;\n    },\n\n    /** Show a spinner indicating that the select options are currently loaded */\n    wait: function() {\n        this.model.set(\"wait\", true);\n    },\n\n    /** Hide spinner indicating that the request has been completed */\n    unwait: function() {\n        this.model.set(\"wait\", false);\n    },\n\n    /** Returns the number of options */\n    length: function() {\n        return this.$(\".ui-option\").length;\n    },\n\n    /** Set value to dom */\n    _setValue: function(new_value) {\n        var self = this;\n        if (new_value !== undefined) {\n            this.$(\"input\").prop(\"checked\", false);\n            if (new_value !== null) {\n                var values = $.isArray(new_value) ? new_value : [new_value];\n                _.each(values, v => {\n                    self\n                        .$(`input[value=\"${v}\"]`)\n                        .first()\n                        .prop(\"checked\", true);\n                });\n            }\n        }\n    },\n\n    /** Return current selection */\n    _getValue: function() {\n        var selected = [];\n        this.$(\":checked\").each(function() {\n            selected.push($(this).val());\n        });\n        if (Utils.isEmpty(selected)) {\n            return null;\n        }\n        return this.model.get(\"multiple\") ? selected : selected[0];\n    },\n\n    /** Show message instead if options */\n    _messageShow: function(text, status) {\n        this.$message\n            .show()\n            .removeClass()\n            .addClass(`ui-message alert alert-${status}`)\n            .html(text);\n    },\n\n    /** Main template function */\n    _template: function() {\n        return $(\"<div/>\").addClass(\"ui-options-list\");\n    }\n});\n\n/** Iconized **/\nvar BaseIcons = Base.extend({\n    _templateOption: function(pair) {\n        var id = Utils.uid();\n        return $(\"<div/>\")\n            .addClass(\"ui-option\")\n            .append(\n                $(\"<input/>\").attr({\n                    id: id,\n                    type: this.model.get(\"type\"),\n                    name: this.model.id,\n                    value: pair.value\n                })\n            )\n            .append(\n                $(\"<label/>\")\n                    .addClass(\"ui-options-label\")\n                    .attr(\"for\", id)\n                    .html(pair.label)\n            );\n    }\n});\n\n/** Radio button field **/\nvar Radio = {};\nRadio.View = BaseIcons.extend({\n    initialize: function(options) {\n        options.type = \"radio\";\n        BaseIcons.prototype.initialize.call(this, options);\n    }\n});\n\n/** Checkbox options field **/\nvar Checkbox = {};\nCheckbox.View = BaseIcons.extend({\n    initialize: function(options) {\n        options.type = \"checkbox\";\n        options.multiple = true;\n        BaseIcons.prototype.initialize.call(this, options);\n    }\n});\n\n/** Radio button options field styled as classic buttons **/\nvar RadioButton = {};\nRadioButton.View = Base.extend({\n    initialize: function(options) {\n        Base.prototype.initialize.call(this, options);\n    },\n\n    /** Set current value */\n    _setValue: function(new_value) {\n        if (new_value !== undefined) {\n            this.$(\"input\").prop(\"checked\", false);\n            this.$(\"label\").removeClass(\"active\");\n            this.$(`[value=\"${new_value}\"]`)\n                .prop(\"checked\", true)\n                .closest(\"label\")\n                .addClass(\"active\");\n        }\n    },\n\n    /** Template for a single option */\n    _templateOption: function(pair) {\n        var $el = $(\"<label/>\").addClass(\"btn btn-secondary\");\n        if (pair.icon) {\n            $el.append(\n                $(\"<i/>\")\n                    .addClass(\"fa\")\n                    .addClass(pair.icon)\n                    .addClass(!pair.label && \"no-padding\")\n            );\n        }\n        $el.append(\n            $(\"<input/>\").attr({\n                type: \"radio\",\n                name: this.model.id,\n                value: pair.value\n            })\n        );\n        if (pair.label) {\n            $el.append(pair.label);\n        }\n        return $el;\n    },\n\n    /** Main template function */\n    _template: function() {\n        return $(\"<div/>\").addClass(\"btn-group ui-radiobutton\");\n    }\n});\n\nexport default {\n    Base: Base,\n    BaseIcons: BaseIcons,\n    Radio: Radio,\n    RadioButton: RadioButton,\n    Checkbox: Checkbox\n};\n"]}